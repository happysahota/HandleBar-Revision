<!DOCTYPE html>
<html>
    <head>
        <title>::HandleBars::</title>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/handlebars.js/4.0.10/handlebars.min.js"></script>
    </head>
    <body>

        <div id="testData"></div>
        <div id="listData"></div>

        <script type="text/x-handlebars-template" id="listTemplate">
            <h1>{{title}}</h1>
            <ol>
                {{#each entities}}
                    <li> {{entity}}
                {{/each}}
            </ol>
            
            {{{ details }}}
            <br/><br/>
            {{linkhelper "Link Text" "http://link.com"}}
            <br/><br/>
            {{styleSetter "this is demo text for Italic" style='i'}}
            <br/><br/>
            {{styleSetter "this is demo text for Bold" style='b'}}

        </script>
        <script type="text/javascript">

            //FIRST APPROACH
            var textTemplate = "<p>My name is {{lastname}}, {{firstname}} {{lastname}}</p>";
            var template = Handlebars.compile(textTemplate);
            var htmldata = template({'firstname':'Harpreet', 'lastname':'Singh'});
            document.getElementById("testData").innerHTML +=htmldata;

            //SECOND APPROACH
            var rawTemplate = document.getElementById("listTemplate").innerHTML;

            Handlebars.registerHelper("linkhelper", (text, link)=>{
                text = Handlebars.Utils.escapeExpression(text);
                link = Handlebars.Utils.escapeExpression(link);

                var anchor = "<a href='"+link+"'>"+text+"</a>";
                return new Handlebars.SafeString(anchor);
            });

            Handlebars.registerHelper("styleSetter", (text, options) => {
                text = Handlebars.Utils.escapeExpression(text);

                if(options.hash.style == 'i') {
                    return new Handlebars.SafeString("<i>"+text+'</i>');
                }else if(options.hash.style == 'b') {
                    return new Handlebars.SafeString("<b>"+text+'</b>');                    
                }

            });

            var template = Handlebars.compile(rawTemplate);;
            var html = template({
                'title':"Students",
                'entities':[
                    {'entity':"Harpreet"},
                    {'entity':"Bhawna"},
                    {'entity':"Prashant"},
                ],
                'details': "<i>This text is inside tag inside provide data json</i>"
            })

            document.getElementById('listData').innerHTML += html;
        </script>

    </body>
</html>